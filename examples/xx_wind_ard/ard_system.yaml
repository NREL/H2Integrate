analysis_options:
modeling_options:
  windIO_plant: !include "./windio.yaml"
  layout:
    N_turbines: 25
    N_substations: 1
    spacing_primary: 10.0
    spacing_secondary: 10.0
    angle_orientation: 0.0
    angle_skew: 0.0
  wind_rose:
    file: wrg_example.wrg
    wd_step: 90.0
    wind_speeds: [5.0, 10.0, 15.0, 20.0]
    point: [0.0, 0.0]
  turbine: !include turbine_spec_IEA-3p4-130-RWT.yaml
  collection:
    max_turbines_per_string: 8
    solver_name: "highs"
    solver_options:
      time_limit: 60
      mip_gap: 0.02
    model_options:
      topology: "branched"
      feeder_route: "radial"
      feeder_limit: "unlimited"
  costs:
    rated_power: 3.4  # MW
    num_blades: 3
    rated_thrust_N: 645645.83964671
    gust_velocity_m_per_s: 52.5
    blade_surface_area: 69.7974979
    tower_mass: 620440.7337521
    nacelle_mass: 101985.82836439
    hub_mass: 8384.07517646
    blade_mass: 14563.41339641
    foundation_height: 0.0
    commissioning_cost_kW: 44.0
    decommissioning_cost_kW: 58.0
    trench_len_to_substation_km: 50.0
    distance_to_interconnect_mi: 4.97096954
    interconnect_voltage_kV: 130.0
    tcc_per_kW: 1300.00  # (USD/kW)
    opex_per_kW: 44.00  # (USD/kWh)
  offshore: false
  floating: false
system:
  type: group
  connections:
    - ["AEP_farm", "financese.plant_aep_in"]
    - ["total_capex_kW", "financese.bos_per_kW"]
  systems:
    layout2aep:
      type: group
      promotes: ["*"]
      approx_totals:
        method: "fd"
        step: 1.0E-3
        form: "central"
        step_calc: "rel_avg"
      systems:
        layout:
          type: component
          module: ard.layout.gridfarm
          object: GridFarmLayout
          promotes: ["*"]
          kwargs:
            modeling_options:
        aepFLORIS:
          type: component
          module: ard.farm_aero.floris
          object: FLORISBatch
          promotes: ["x_turbines", "y_turbines", "AEP_farm"]
          kwargs:
            modeling_options:
            data_path:
            case_title: "default"
    boundary:
      type: component
      module: ard.layout.boundary
      object: FarmBoundaryDistancePolygon
      promotes: ["*"]
      kwargs:
        modeling_options:
    landuse:
      type: component
      module: ard.layout.gridfarm
      object: GridFarmLanduse
      promotes: ["*"]
      kwargs:
        modeling_options:
    optiwindnet_coll:
      type: component
      module: ard.collection.optiwindnet_wrap
      object: OptiwindnetCollection
      promotes: ["*"]
      kwargs:
        modeling_options:
    spacing_constraint:
      type: component
      module: ard.layout.spacing
      object: TurbineSpacing
      promotes: ["*"]
      kwargs:
        modeling_options:
    tcc:
      type: component
      module: ard.cost.wisdem_wrap
      object: TurbineCapitalCosts
      promotes: [
        "turbine_number",
        "machine_rating",
        "tcc_per_kW",
        "offset_tcc_per_kW",
      ]
    landbosse:
      type: component
      module: ard.cost.wisdem_wrap
      object: LandBOSSEWithSpacingApproximations
      promotes: ["*"]
      kwargs:
        modeling_options:
    opex:
      type: component
      module: ard.cost.wisdem_wrap
      object: OperatingExpenses
      promotes: [
        "turbine_number",
        "machine_rating",
        "opex_per_kW"
      ]
    financese:
      type: component
      module: ard.cost.wisdem_wrap
      object: FinanceSEGroup
      promotes: [
        "turbine_number",
        "machine_rating",
        "tcc_per_kW",
        "offset_tcc_per_kW",
        "opex_per_kW",
      ]
      kwargs:
        modeling_options:
